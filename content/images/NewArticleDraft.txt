Title New Article Draft
opt Edit existing
    Browser<->S3: GET Organizer
    Browser<->S3: GET Existing Draft
end
Browser<->S3: GET Composer
note left of Browser
User edits draft
end note
Browser->+λdoSave: invoke doSave(Draft)
note right of λdoSave
Validation, compression
end note
λdoSave->S3: PUT Draft
S3->>+λonDraftUpdated: Event: ObjectCreated(Draft)
λdoSave->-Browser: Success
λonDraftUpdated<->S3: GET Template
note right of λonDraftUpdated
Render template
end note
λonDraftUpdated->S3: PUT Preview html
note left of S3
HTML files not subscribed
No event triggered
end note
λonDraftUpdated<->S3: GET DraftsIndex
λonDraftUpdated->-S3: PUT DraftsIndex
S3->>λonIndexUpdated: Event: ObjectCreated(DraftsIndex)
note right of λonIndexUpdated
Ignored
end note
